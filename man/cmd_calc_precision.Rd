% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cmd_calc_precision.R
\name{cmd_calc_precision}
\alias{cmd_calc_precision}
\title{Calculate Precision Metrics for Annotated Variables}
\usage{
cmd_calc_precision(x, cols)
}
\arguments{
\item{x}{A data.frame or data.table containing the extracted variables with columns for 'pmid', 'annotator_id', and the specified variable columns.}

\item{cols}{A character vector specifying the columns to be used for variable extraction.}
}
\value{
A data.table containing the precision metrics, including the frequency of each variable and the agreement rate for each PMID.
}
\description{
This function calculates precision metrics for variables extracted by multiple annotators. 
It normalizes the text, calculates the frequency of each variable, and computes the agreement rate.
}
\examples{
library(data.table)
variables <- data.table(
  pmid = c(28817241, 28817241, 28817241, 28817241, 28817241, 28817241,
           28817242, 28817242, 28817242, 28817242, 28817242, 28817242),
  annotator_id = c("OSM5611", "OSM5611", "OSM5611", "OSM5611", "OSM5611", "OSM5611",
                   "OSM5611", "OSM5611", "OSM5611", "OSM5611", "OSM5611", "OSM5611"),
  variable_name = c("Heart Failure", "Vitamin D Deficiency", "Age", "Gender", 
                    "Education", "Ethnicity", "Diabetes", "Hypertension", 
                    "Age", "Gender", "Education", "Ethnicity"),
  variable_type = c("Outcome", "Exposure", "Covariate", "Covariate", "Covariate", 
                    "Covariate", "Outcome", "Exposure", "Covariate", "Covariate", 
                    "Covariate", "Covariate")
)
cols <- c("variable_name", "variable_type")
result <- cmd_calc_precision(variables, cols)
print(result)
}
